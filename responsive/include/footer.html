<footer id="footer">
  <div class="utilMenu">
    <ul>
      <li><a href="">이용약관</a></li>
      <!-- prettier-ignore -->
      <li><a href=""><strong>개인정보보호정책</strong> </a></li>
      <li><a href="">사이트맵</a></li>
      <li><a href="">온라인견적문의</a></li>
    </ul>
  </div>
  <div class="addressBox">
    <div class="container">
      <div class="fLogo">
        <img src="../images/layout/fLogo.png" alt="" />
      </div>
      <div class="address">
        <p class="title">하이탑 : 서울 송파구 성내천로 14길 13 (3층)</p>
        <!-- prettier-ignore -->
        <p class="info">
          <span>대표전화 : 070-7715-4400</span>
          <span>이메일 : hitop4400@hanmail.net</span>
          <span>사업자번호 : 402-81-83259</span>
        </p>
        <p class="copyright">Copyright ⓒ 2018 HITOP. All rights reserved</p>
      </div>
      <!-- prettier-ignore -->
      <div class="tel">
        <span>고객만족센터</span>
        <strong>070-7715-4400</strong>
      </div>
    </div>
  </div>
</footer>
<script>
  const btnAll = $(".btnAll");
  const header = $("#header");
  const depth01 = $("#gnb .depth01");
  const depth02 = $("#gnb .depth02");

  const lnbDepth01 = $("#lnb .depth01 ul");
  const lnbDepth02 = $("#lnb .depth02 ul");

  const lnbButton = $("#lnb .menu button");
  const lnb = $("#lnb");
  let subVisual = $(".subVisual");
  let lnbTop = subVisual.height() - lnb.height();

  lnbButton.on("click",function(){
    if (header.hasClass("mobile")) {
      const ul = $(this).next();
      ul.slideToggle();
    };
  });

  btnAll.on("click", function(e){
    // e.preventDefault();
    header.toggleClass("open");
    depth02.delay(500).slideUp();
    $(window).on("scroll touchmove mousewheel", function (e) {
      $(window).scrollTop(0);
      e.stopPropagation();
      return false;
    });
    return false;
  }); 

  depth01.on("click",function(){
    if(header.hasClass("mobile")) {
      const depth02 = $(this).next();
      const siblings = $(this).parent().siblings().find(".depth02");
      siblings.stop().slideUp();
      depth02.stop().slideToggle();
      // depth02.toggle() toggle - show & hide
      // depth02.fadeToggle() opacity 0 - 100
      return false;
    } 
  });

  //resize (화면 크기) 
  //vanilla - scroll 포함된 값
  // jquery - scroll 제외
  /*window.addEventListener("resize",function(){
    //console.log("vanilla===",window.innerWidth);
    const w = window.innerWidth;
    if(w<1200) {
      header.addClass("mobile");
    } else {
      header.removeClass("mobile")
    }
  }); 
  window.dispatchEvent(new Event("resize")); */

  //jquery
  $(window).on("resize",function(){
    const w = $(window).outerWidth();
    lnbTop = subVisual.height() - lnb.height();
   /* if (w<= 960) {
      lnbTop = 250;
    } else {
      lnbTop = 350;
    }; */
    if(w<=1200) {
      header.addClass("mobile");
    } else {
      header.removeClass("mobile open");
      depth02.removeAttr("style");
      lnbDepth01.removeAttr("style");
      lnbDepth02.removeAttr("style");
    }
  });
  
  $(window).on("scroll",function(){
    let st = $(window).scrollTop();
    if(st > 0){
      header.addClass('scroll');
    } else {
      header.removeClass('scroll');
    };
    if(st > lnbTop) {
      lnb.addClass("fixed");
    } else {
      lnb.removeClass("fixed");
    };
  });
  $(window).trigger("resize");
</script>
</body>
</html>
